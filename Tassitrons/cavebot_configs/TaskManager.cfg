label:Metup
label:Is in Rookgaard?
function:[[

local position = pos()

local outOfHorizontal = position.x < 32010 or position.x > 32120

local outOfVertical = position.y < 32190 or position.y > 32230

if outOfHorizontal or outOfVertical then

  gotoLabel("Mainland")

end

return true


]]
label:Is on Center of Rook?
poscheck:Is on Rook Academy?,25,32095,32204,7
goto:32096,32204,7
function:[[

local retry = getAmmo() and getAmmo():getId() == 2920

local myPos = pos()

local randomPos = pos()

randomPos.x = myPos.x + math.random(-3, 3)

randomPos.y = myPos.y + math.random(-3, 3)

if getAmmo() and getAmmo():getId() == 2920 then

g_game.move(getAmmo(), randomPos)

end

if retry then return "retry" end

return true


]]
function:[[

if player:getLevel() > 7 then

  gotoLabel("Go mainland")

end

return true


]]
function:return TaskBot.loadTaskConfig("Rookgaard")
label:Go mainland
goto:32098,32190,7,0
label:Is on Rook Academy?
poscheck:Go get level,10,32103,32192,6
function:[[

if player:getLevel() < 8 then

  gotoLabel("Go get level")

end

return true


]]
goto:32104,32192,6,1
function:[[

local retry = getHead() or getBody() or getLeg() or getLeft() or getRight() or (getAmmo() and getAmmo():getId() == 2920)

local myPos = pos()

local randomPos = pos()

randomPos.x = myPos.x + math.random(-3, 3)

randomPos.y = myPos.y + math.random(-3, 3)

if getBody() and getBody():getId() == 3361 then

  g_game.move(getBody(), randomPos)

end

randomPos.x = myPos.x + math.random(-3, 3)

randomPos.y = myPos.y + math.random(-3, 3)

if getLeg() and getLeg():getId() == 3559 then

g_game.move(getLeg(), randomPos)

end

randomPos.x = myPos.x + math.random(-3, 3)

randomPos.y = myPos.y + math.random(-3, 3)

if getLeft() and (getLeft():getId() == 3286 or getLeft():getId() == 3277) then

g_game.move(getLeft(), randomPos)

end

randomPos.x = myPos.x + math.random(-3, 3)

randomPos.y = myPos.y + math.random(-3, 3)

if getRight() and getRight():getId() == 3412 then

g_game.move(getRight(), randomPos)

end

randomPos.x = myPos.x + math.random(-3, 3)

randomPos.y = myPos.y + math.random(-3, 3)

if getLeft() and getLeft():getId() == 3286 then

g_game.move(getLeft(), randomPos)

end

randomPos.x = myPos.x + math.random(-3, 3)

randomPos.y = myPos.y + math.random(-3, 3)

if getHead() and getHead():getId() == 3355 then

g_game.move(getHead(), randomPos)

end

randomPos.x = myPos.x + math.random(-3, 3)

randomPos.y = myPos.y + math.random(-3, 3)

if getAmmo() and getAmmo():getId() == 2920 then

g_game.move(getAmmo(), randomPos)

end

if retry then return "retry" end

return true


]]
delay:500
function:[[

TaskBot.setAutoReconnectOn()

return true


]]
function:[[

local waitVal = 300

sayNpc("hi")

schedule(waitVal, function() sayNpc("yes") end)

schedule(2*waitVal, function() sayNpc("optional") end)

schedule(3*waitVal, function() sayNpc("thais") end)

schedule(4*waitVal, function() sayNpc("druid") end)

schedule(5*waitVal, function() sayNpc("yes") end)

delay(6*waitVal)

return true


]]
delay:5000
poscheck:Go get level,12,32369,32237,7
gotolabel:Is in Thais temple?
label:Go get level
goto:32098,32190,6,0
gotolabel:Is on Center of Rook?
delay:5000
goto:32097,32204,7
delay:5000
label:Mainland
label:Is in Aurora temple?
delay:500
poscheck:Is in Thais temple?,5,5645,5605,7
delay:3000
function:return TaskBot.buyAdventurerStone()
delay:2000
function:[[

TaskBot.useAdventureStone()

return true


]]
delay:500
function:return TaskBot.setAGCity("thais")
delay:1200
goto:32210,32292,6,0
goto:32376,32243,7,0
goto:32369,32246,6,0
label:Is in Thais temple?
poscheck:Is in AG?,12,32369,32237,7
delay:500
function:[[

TaskBot.backExchange()

return true


]]
function:[[

if TaskBot.hasUnsetedCharacter() then

  gotoLabel("Go train")

end

return true


]]
delay:500
label:Go train
function:return TaskBot.buyAdventurerStone()
delay:2000
function:[[

TaskBot.useAdventureStone()

return true


]]
delay:1000
poscheck:Is in AS-1?,16,32202,32297,6
goto:32204,32299,6,0
label:Is in AS-1?
poscheck:Go train,20,32200,32298,7
goto:32204,32292,7,1
function:[[

if TaskBot.hasUnsetedCharacter() then

  TaskBot.selectUnsetedCharacter()

else

  TaskBot.selectCharWithIncompleteTasks()

end

return true


]]
delay:1000
use:32204,32292,7
delay:5000
label:Is in AG?
poscheck:Is in DC temple?,20,32200,32298,7
goto:32200,32303,7
function:[[

local retry = getHead() or getBody() or getLeg() or getLeft() or getRight() or getFeet()

local huntSet = true

local myPos = pos()

local randomPos = pos()

randomPos.x = myPos.x + math.random(-4, 4)

randomPos.y = myPos.y + math.random(-4, 4)

if getBody() and (getBody():getId() == 3359 or getBody():getId() == 7991) then

  g_game.move(getBody(), randomPos)

  huntSet = false

end

randomPos.x = myPos.x + math.random(-4, 4)

randomPos.y = myPos.y + math.random(-4, 4)

if getLeg() and (getLeg():getId() == 3372 or getLeg():getId() == 3362) then

g_game.move(getLeg(), randomPos)

huntSet = false

end

randomPos.x = myPos.x + math.random(-4, 4)

randomPos.y = myPos.y + math.random(-4, 4)

if getLeft() and (getLeft():getId() == 7773 or getLeft():getId() == 3066) then

g_game.move(getLeft(), randomPos)

huntSet = false

end

randomPos.x = myPos.x + math.random(-4, 4)

randomPos.y = myPos.y + math.random(-4, 4)

if getHead() and (getHead():getId() == 3354 or getHead():getId() == 7992) then

g_game.move(getHead(), randomPos)

huntSet = false

end

randomPos.x = myPos.x + math.random(-4, 4)

randomPos.y = myPos.y + math.random(-4, 4)

if getRight() and (getRight():getId() == 3425 or getRight():getId() == 3059) then

g_game.move(getRight(), randomPos)

huntSet = false

end

randomPos.x = myPos.x + math.random(-4, 4)

randomPos.y = myPos.y + math.random(-4, 4)

if getFeet() and getFeet():getId() == 3552 then

g_game.move(getFeet(), randomPos)

huntSet = false

end

randomPos.x = myPos.x + math.random(-4, 4)

randomPos.y = myPos.y + math.random(-4, 4)

if getAmmo() and getAmmo() :getId() == 3031 then

g_game.move(getAmmo(), randomPos, getAmmo():getCount())

huntSet = false

end

if retry and not huntSet then return "retry" end

return true


]]
gotolabel:Go PH
function:[[

local equips = getHead() and getLeft() and getBody() and getLeg() and getFeet()

if equips then

gotoLabel("Go PH")

end

return true


]]
goto:32199,32311,7,1
use:32199,32311,7
delay:500
goto:32293,32290,7,0
goto:32289,32289,6,1
use:32289,32289,6
function:[[

TaskBot.equipSet()

local equipped = getHead() and getLeft() and getBody() and getLeg() and getFeet()

if not equipped then return "retry" end

return true


]]
delay:500
goto:32293,32290,6,0
goto:32294,32293,7,1
use:32294,32293,7
label:Go PH
goto:32203,32299,7,0
goto:32210,32297,6,1
function:return TaskBot.setAGCity("Port Hope")
goto:32209,32292,6,0
poscheck:Go PH from Thais,9,32594,32745,7
goto:32610,32761,7
goto:32620,32751,7
gotolabel:Is in PH centre?
poscheck:Go PH from Thais,9,32594,32745,7
gotolabel:Is in PH centre?
label:Go PH from Thais
goto:32369,32241,7,9
goto:32364,32217,7,2
goto:32335,32215,7,2
goto:32321,32211,7,1
use:32321,32211,7
label:Boat of Thais
goto:32310,32210,6,3
travel:Captain Bluebear, Port Hope, 300
delay:500
label:Is in DC temple?
poscheck:Is in DC DP+2?,10,6226,4775,7
goto:6226,4775,7
goto:6202,4778,7
goto:6186,4767,7
poscheck:Is in DC temple?,4,6186,4767,7
gotolabel:Path to DC boat
label:Is in DC DP+2?
poscheck:Is in DC DP+1?,8,6187,4716,5
goto:6184,4719,5,0
gotolabel:Is in DC DP+2?
label:Is in DC DP+1?
poscheck:Is in DC DP-1?,8,6187,4716,6
goto:6186,4717,6,0
gotolabel:Is in DC DP+1?
label:Is in DC DP-1?
poscheck:Is in DC DP?,8,6187,4716,8
goto:6188,4715,8,0
gotolabel:Is in DC DP-1?
label:Is in DC DP?
poscheck:Is in DC boat?,15,6187,4715,7
goto:6184,4718,7
goto:6177,4741,7
label:Path to DC boat
goto:6176,4762,7
goto:6150,4763,7
goto:6140,4765,7
use:6140,4765,7
label:Is in DC boat?
poscheck:Is in PH boat?,7,6134,4763,6
goto:6130,4763,6
travel:Captain Jim, Port Hope, 200
gotolabel:Is in DC boat?
label:Is in PH boat?
poscheck:Is in west ferry?,10,32530,32784,6
goto:32545,32787,6
goto:32556,32766,6
gotolabel:Is in PH boat?
label:Is in west ferry?
poscheck:Is in PH DP+2?,15,32558,32773,7
goto:32558,32779,7
function:[[

local equips = getHead() and getLeft() and getBody() and getLeg() and getFeet()

if equips then

TaskBot.ferryTravel("east")

return true

end

TaskBot.ferryTravel("centre")

return true


]]
gotolabel:Is in west ferry?
label:Is in PH DP+2?
poscheck:Is in PH DP+1?,9,32628,32742,5
goto:32626,32742,5,0
gotolabel:Is in PH DP+2?
label:Is in PH DP+1?
poscheck:Is in PH centre?,9,32628,32742,6
goto:32625,32749,6,0
gotolabel:Is in PH DP+1?
label:Is in PH centre?
poscheck:Is in east ferry?,20,32627,32755,7
function:[[

local equips = getHead() and getLeft() and getBody() and getLeg() and getFeet()

if equips then

gotoLabel("Go to Grizzly")

end

return true


]]
goto:32620,32741,7,0
depositor:no
function:[[

delay(700)

local mail = nil

local inbox = nil

local parcel = nil

for _, container in pairs(getContainers()) do

  if mail and inbox and parcel then break end

  if not mail and container:getName() == "locker" then

      for _, item in pairs(container:getItems()) do

        if item:getId() == 12902 then

          mail = item

          break

        end

      end

  end

  if container:getContainerItem():getId() == 12902 then

    inbox = container

  end

  if container:getContainerItem():getId() == 3504 then

    parcel = container

  end

end

if not mail then

  gotoLabel("checkMail")

  return true

end

if mail and not inbox then

  g_game.open(mail)

  return "retry"

end

if inbox and not parcel then

  for _, item in pairs(inbox:getItems()) do

    if item:getId() == 3504 then

      g_game.open(item)

      return "retry"

    end

  end

end

return true


]]
function:[[

TaskBot.equipSet()

local equipped = getHead() and getLeft() and getBody() and getLeg() and getFeet() and getFinger() and getAmmo() and getRight() -- and getNeck()

if not equipped then return "retry" end

return true


]]
goto:32614,32758,7,1
use:32614,32759,7
function:[[

TaskBot.equipSet()

local equipped = getHead() and getLeft() and getBody() and getLeg() and getFeet() and getFinger() and getAmmo() and getRight() -- and getNeck()

if not equipped then return "retry" end

return true


]]
delay:500
use:32613,32759,7
label:Go to Grizzly
goto:32625,32752,7
goto:32628,32770,7
function:[[

TaskBot.ferryTravel("east")

return true


]]
gotolabel:Is in PH centre?
label:Is in east ferry?
poscheck:Is in Grizzly house?,15,32686,32779,7
goto:32694,32772,7,0
gotolabel:Is in east ferry?
label:Is in Grizzly house?
goto:32694,32768,6
delay:500
function:return TaskBot.joinGrizzlyQuest()
delay:200
function:[[

TaskBot.reportTask()

return true


]]
delay:300
function:return TaskBot.requestTasks(TaskBot.getNextTasks())
delay:5000
function:[[

if not TaskBot.currentTask then

  TaskBot.getCurrentTask()

  if not TaskBot.currentTask then

    gotoLabel("Go house")

  end

end

return TaskBot.loadTaskConfig(TaskBot.currentTask)


]]
delay:10000
label:Go house
goto:32694,32772,6,0
goto:32679,32777,7
function:[[

TaskBot.ferryTravel("centre")

return true


]]
goto:32625,32749,7,0
goto:32633,32740,6,1
function:[[

if retries > 100 then return true end

return TaskBot.withdrawMoney()


]]
label:buyParcel
function:[[

if not TaskBot.hasCharWithIncompleteTask() then

  gotoLabel("endBuyParcel")

end

return true


]]
goto:32623,32747,6
buyparcel:Ray, 500
label:openBack
function:[[

for _, container in pairs(getContainers()) do

  if container:getContainerItem():getId() == getBack():getId() then

    if (findItem(3507) or getAmmo():getId() == 3507) and findItem(3503) then

      gotoLabel("skipOpenBack")

      return true

    else

      gotoLabel("buyParcel")

      return true

    end

  end

end

g_game.open(getBack())

delay(300)

return "retry"


]]
label:skipOpenBack
function:[[

for _, container in pairs(getContainers()) do

  if container:getContainerItem():getId() == 3503 then

      gotoLabel("skipOpenParcel")

      return true

  end

end

local parcel = findItem(3503)

if parcel then

  g_game.open(parcel)

  delay(300)

else

  gotoLabel("buyParcel")

  return true

end

return "retry"


]]
label:skipOpenParcel
label:parcelItems
function:return TaskBot.moveEquipsToParcel()
delay:500
function:[[

local label = nil

local parcel = nil

for _, container in pairs(getContainers()) do

  if label and parcel then break end

  

  if not parcel and container:getContainerItem():getId() == 3503 then

    parcel = container

  end

  if not label and container:getContainerItem():getId() == getBack():getId() then

    for _, item in pairs(container:getItems()) do

      if  item:getId() == 3507 then

        label = item

        break

      end

    end

  end

end

g_game.move(label, parcel:getSlotPosition(parcel:getItemsCount()), 1)

return true


]]
delay:500
function:[[

local label = findItem(3507)

if label then

  g_game.use(label)

  delay(300)

else

  gotoLabel("buyParcel")

end

if retries > 10 then

  return true

end

return "retry"


]]
function:[[

for _, container in pairs(getContainers()) do

  if container:getContainerItem():getId() == 3503 then

    if container:getItemsCount() < 9 then

      gotoLabel("openBack")

      break

    end

  end

end

return true


]]
function:[[

local mailBoxPos = {x=32622, y=32748, z=6}

g_map.getTile(mailBoxPos):getThings()

if #g_map.getTile(mailBoxPos):getThings() == 2 then

  for _, container in pairs(getContainers()) do

    if container:getContainerItem():getId() == getBack():getId() then

      for _, item in pairs(container:getItems()) do

        if item:getId() == 3503 and #g_map.getTile(mailBoxPos):getThings() == 2 then

          g_game.move(item, mailBoxPos)

          return true

        end

      end

    end

  end

else

  gotoLabel("endBuyParcel")

end

return true


]]
delay:250
function:[[

local mailBoxPos = {x=32622, y=32748, z=6}

local things = g_map.getTile(mailBoxPos):getThings()

if #things > 2 then

  g_game.move(things[#things], {x=65535, y=SlotBack, z=0}, things[#things]:getCount())

  delay(200)

end

if retries > 15 then

  return true

end

return "retry"


]]
label:endBuyParcel
goto:32625,32749,6,0
goto:32616,32758,7
goto:32614,32758,7,1
label:Store the equips
use:32614,32759,7
function:return TaskBot.moveEquipsToTreasureChest()
delay:500
goto:32611,32758,7
function:[[

if retries > 100 then return true end

return TaskBot.dropLoot()


]]
label:Go PH temple
goto:32607,32759,7
goto:32595,32747,7
function:[[

TaskBot.useAdventureStone()

return true


]]
delay:1000
goto:32204,32299,6,0
function:[[

if TaskBot.selectCharWithIncompleteTasks() then

  TaskBot.setAutoReconnectOn()

  return true

end

TaskBot.setAutoReconnectOff()

return true


]]
delay:500
goto:32204,32292,7,1
use:32204,32292,7
delay:10000
config:{"useDelay":400,"mapClickDelay":100,"walkDelay":10,"ping":100,"ignoreFields":false,"skipBlocked":false,"mapClick":false}
extensions:[[
{
  "Depositer": [

  ],
  "Supply": [

  ]
}
]]
