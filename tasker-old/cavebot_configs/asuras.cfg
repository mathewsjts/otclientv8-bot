label:checkSupply
function:[[

--check supply

-- config

local itemId = 237

local itemQtyMin = 150

local labelToGoIfNotEnoughSupplies = "gotoNpc"

-- não mexer abaixo

local containers = getContainers()

local itemTotal = 0

for _, container in pairs(getContainers()) do

  for _, item in ipairs(container:getItems()) do

    if (item:getId() == itemId) then

      itemTotal = itemTotal + item:getCount()

    end

  end

end

if (itemTotal <= itemQtyMin) then

  gotoLabel(labelToGoIfNotEnoughSupplies)

end

return true


]]
function:[[

--check supply

-- config

local itemId = 7643

local itemQtyMin = 75

local labelToGoIfNotEnoughSupplies = "gotoNpc"

-- não mexer abaixo

local containers = getContainers()

local itemTotal = 0

for _, container in pairs(getContainers()) do

  for _, item in ipairs(container:getItems()) do

    if (item:getId() == itemId) then

      itemTotal = itemTotal + item:getCount()

    end

  end

end

if (itemTotal <= itemQtyMin) then

  gotoLabel(labelToGoIfNotEnoughSupplies)

end

return true


]]
gotolabel:gotoHunt
label:gotoNpc
goto:33128,32811,5
function:[[

--buy supply

-- config

local npcName = "Mehkesh"

local itemQtyMax = 900

local itemId = 237

-- não mexer abaixo

local npc = getCreatureByName(npcName)

local itemTotal = 0

if not npc then 

  return false

end

if retries > 10 then

  return false

end

local pos = player:getPosition()

local npcPos = npc:getPosition()

if math.max(math.abs(pos.x - npcPos.x), math.abs(pos.y - npcPos.y)) > 2 then

  autoWalk(npcPos, { precision=1 })

  delay(1000)

  return "retry"

end

if not NPC.isTrading() then

  NPC.say("hi")

  schedule(2000, function() NPC.say("trade") end) 

  delay(4000)

  return "retry"

end

for _, container in pairs(getContainers()) do

  for _, item in ipairs(container:getItems()) do

    if (item:getId() == itemId) then

      itemTotal = itemTotal + item:getCount()

    end

  end

end

delay(5000)

local itemQtyToBuy = itemQtyMax - itemTotal

local transactionLoops = math.ceil(itemQtyToBuy/100)

for i = 1, transactionLoops, 1 do

  if (i < transactionLoops) then

    itemQtyToBuy = itemQtyToBuy - 100

    schedule(((i * 2) * 1000), function() NPC.buy(itemId, 100) end)

  else

    schedule(((i * 2) * 1000), function() NPC.buy(itemId, itemQtyToBuy) end)

  end

end

local transactionDelay = (transactionLoops+2)*2000

delay(transactionDelay)

return true


]]
function:[[

--buy supply

-- config

local npcName = "MehKesh"

local itemQtyMax = 150

local itemId = 7643

-- não mexer abaixo

local npc = getCreatureByName(npcName)

local itemTotal = 0

if not npc then 

  return false

end

if retries > 10 then

  return false

end

local pos = player:getPosition()

local npcPos = npc:getPosition()

if math.max(math.abs(pos.x - npcPos.x), math.abs(pos.y - npcPos.y)) > 2 then

  autoWalk(npcPos, { precision=1 })

  delay(1000)

  return "retry"

end

if not NPC.isTrading() then

  NPC.say("hi")

  schedule(2000, function() NPC.say("trade") end) 

  delay(4000)

  return "retry"

end

for _, container in pairs(getContainers()) do

  for _, item in ipairs(container:getItems()) do

    if (item:getId() == itemId) then

      itemTotal = itemTotal + item:getCount()

    end

  end

end

delay(5000)

local itemQtyToBuy = itemQtyMax - itemTotal

local transactionLoops = math.ceil(itemQtyToBuy/100)

for i = 1, transactionLoops, 1 do

  if (i < transactionLoops) then

    itemQtyToBuy = itemQtyToBuy - 100

    schedule(((i * 2) * 1000), function() NPC.buy(itemId, 100) end)

  else

    schedule(((i * 2) * 1000), function() NPC.buy(itemId, itemQtyToBuy) end)

  end

end

local transactionDelay = (transactionLoops+2)*2000

delay(transactionDelay)

return true


]]
label:gotoHunt
goto:33131,32813,5
goto:33131,32816,5
goto:33131,32822,6
goto:33127,32826,6
goto:33121,32828,7
goto:33118,32822,7
goto:33118,32816,7
goto:33118,32810,7
goto:33112,32808,7
goto:33106,32808,7
goto:33100,32808,7
goto:33098,32802,7
goto:33096,32797,7
goto:33095,32795,6
goto:33089,32791,7
goto:33087,32787,7
goto:33087,32784,6
goto:33087,32778,7
goto:33081,32777,7
goto:33075,32777,7
goto:33069,32777,7
goto:33063,32777,7
goto:33057,32777,7
goto:33054,32783,7
goto:33051,32789,7
goto:33051,32795,7
goto:33051,32801,7
goto:33047,32807,7
goto:33041,32811,7
goto:33038,32809,7
goto:33035,32803,6
goto:33033,32800,6
goto:33031,32794,5
goto:33031,32788,5
goto:33031,32782,5
goto:33032,32778,5
goto:33034,32784,4
goto:33032,32787,4
goto:33030,32788,3
goto:33029,32782,2
goto:33029,32780,2
goto:33029,32775,1
goto:33029,32769,0
goto:33029,32763,0
goto:33029,32757,0
goto:33031,32756,0
goto:33026,32750,1
goto:33020,32746,1
goto:33020,32746,1
goto:33016,32744,2
goto:33010,32739,3
goto:33008,32733,3
goto:33010,32727,3
goto:33010,32726,3
goto:33006,32720,4
goto:33007,32714,4
goto:33007,32708,4
goto:33001,32704,4
goto:32999,32704,4
goto:32998,32710,5
goto:32998,32710,5
goto:32992,32714,6
goto:32986,32714,6
goto:32982,32716,6
goto:32976,32717,7
goto:32972,32711,7
goto:32969,32705,7
goto:32963,32702,7
goto:32964,32696,7
goto:32958,32695,7
goto:32952,32695,7
goto:32949,32689,7
goto:32949,32689,7
function:[[

--check supply

-- config

local itemId = 237

local itemQtyMin = 100

local labelToGoIfNotEnoughSupplies = "gotoCity"

-- não mexer abaixo

local containers = getContainers()

local itemTotal = 0

for _, container in pairs(getContainers()) do

  for _, item in ipairs(container:getItems()) do

    if (item:getId() == itemId) then

      itemTotal = itemTotal + item:getCount()

    end

  end

end

if (itemTotal <= itemQtyMin) then

  gotoLabel(labelToGoIfNotEnoughSupplies)

end

return true


]]
gotolabel:startHunt
label:gotoCity
goto:32949,32687,6
goto:32949,32689,6
goto:32950,32695,7
goto:32956,32700,7
goto:32962,32702,7
goto:32968,32705,7
goto:32974,32707,7
goto:32974,32713,7
goto:32976,32719,7
goto:32982,32716,7
goto:32982,32716,7
goto:32988,32714,6
goto:32994,32714,6
goto:32997,32710,6
goto:32999,32704,5
goto:32999,32704,5
goto:33005,32706,4
goto:33006,32712,4
goto:33006,32718,4
goto:33007,32724,4
goto:33010,32726,4
goto:33010,32732,3
goto:33009,32738,3
goto:33015,32740,3
goto:33015,32744,3
goto:33020,32745,2
goto:33026,32750,1
goto:33032,32751,1
goto:33031,32756,1
goto:33029,32762,0
goto:33029,32768,0
goto:33029,32774,0
goto:33029,32775,0
goto:33029,32780,1
goto:33029,32786,2
goto:33030,32788,2
goto:33032,32787,3
goto:33036,32781,4
goto:33032,32778,4
goto:33031,32784,5
goto:33031,32790,5
goto:33031,32796,5
goto:33033,32800,5
goto:33035,32806,6
goto:33038,32809,6
goto:33044,32811,7
goto:33050,32811,7
goto:33056,32811,7
goto:33058,32805,7
goto:33058,32799,7
goto:33064,32799,7
goto:33069,32793,7
goto:33069,32787,7
goto:33075,32782,7
goto:33081,32782,7
goto:33086,32784,7
goto:33086,32787,6
goto:33091,32793,7
goto:33097,32793,7
goto:33098,32799,7
goto:33098,32805,7
goto:33098,32811,7
goto:33098,32817,7
goto:33098,32823,7
goto:33102,32827,6
goto:33108,32829,7
goto:33114,32829,7
goto:33120,32829,7
goto:33126,32829,7
goto:33127,32826,7
goto:33129,32820,6
goto:33130,32816,6
gotolabel:checkSupply
label:startHunt
function:[[

--check supply

-- config

local itemId = 237

local itemQtyMin = 100

local labelToGoIfNotEnoughSupplies = "gotoCity"

-- não mexer abaixo

local containers = getContainers()

local itemTotal = 0

for _, container in pairs(getContainers()) do

  for _, item in ipairs(container:getItems()) do

    if (item:getId() == itemId) then

      itemTotal = itemTotal + item:getCount()

    end

  end

end

if (itemTotal <= itemQtyMin) then

  gotoLabel(labelToGoIfNotEnoughSupplies)

end

return true


]]
function:[[

--check supply

-- config

local itemId = 7643

local itemQtyMin = 100

local labelToGoIfNotEnoughSupplies = "gotoCity"

-- não mexer abaixo

local containers = getContainers()

local itemTotal = 0

for _, container in pairs(getContainers()) do

  for _, item in ipairs(container:getItems()) do

    if (item:getId() == itemId) then

      itemTotal = itemTotal + item:getCount()

    end

  end

end

if (itemTotal <= itemQtyMin) then

  gotoLabel(labelToGoIfNotEnoughSupplies)

end

return true


]]
goto:32948,32688,6
goto:32945,32682,6
goto:32945,32676,6
goto:32945,32670,6
goto:32944,32670,6
goto:32950,32672,7
goto:32951,32678,7
goto:32957,32681,7
goto:32961,32675,7
goto:32955,32678,7
goto:32949,32678,7
goto:32943,32678,7
goto:32937,32679,7
goto:32935,32673,7
goto:32941,32673,7
goto:32944,32670,7
goto:32950,32674,6
goto:32953,32680,6
goto:32947,32684,6
goto:32941,32684,6
goto:32935,32684,6
goto:32934,32678,6
goto:32940,32673,6
goto:32946,32673,6
goto:32952,32677,6
goto:32955,32683,6
goto:32961,32683,6
goto:32965,32685,6
goto:32959,32680,5
goto:32953,32680,5
goto:32947,32681,5
goto:32949,32675,5
goto:32943,32672,5
goto:32937,32672,5
goto:32933,32678,5
goto:32939,32673,5
goto:32945,32672,5
goto:32951,32677,5
goto:32954,32683,5
goto:32960,32685,5
goto:32965,32680,5
goto:32965,32680,4
goto:32965,32680,5
goto:32959,32683,4
goto:32953,32682,4
goto:32950,32676,4
goto:32944,32676,4
goto:32938,32676,4
goto:32937,32682,4
goto:32943,32682,4
goto:32948,32676,4
goto:32950,32673,4
goto:32949,32679,3
goto:32943,32679,3
goto:32949,32677,3
goto:32947,32673,3
goto:32947,32673,2
goto:32950,32673,3
goto:32953,32679,4
goto:32952,32685,4
goto:32953,32679,4
goto:32953,32673,4
goto:32950,32673,4
goto:32947,32673,3
goto:32947,32673,2
goto:32950,32673,3
goto:32954,32679,4
goto:32960,32681,4
goto:32965,32680,4
goto:32965,32685,5
goto:32959,32686,6
goto:32953,32684,6
gotolabel:startHunt
config:{"useDelay":400,"mapClickDelay":100,"walkDelay":10,"ping":100,"ignoreFields":false,"skipBlocked":false,"mapClick":false}
extensions:[[
{
  "Depositer": [

  ],
  "Supply": [

  ]
}
]]
